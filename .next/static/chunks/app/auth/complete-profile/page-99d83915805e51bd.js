(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{4477:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return n.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return a.findSourceMapURL}});let n=t(3806),a=t(1818),l=t(4979).createServerReference},6252:(e,r,t)=>{Promise.resolve().then(t.bind(t,7675))},7675:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var n=t(5155),a=t(2115),l=t(4477);let s=(0,l.createServerReference)("409563c23203d6efc111f601b3f2eaa875a9c45e09",l.callServer,void 0,l.findSourceMapURL,"updateProfile"),c=(0,t(4982).UU)("https://dmibohhlaqrlfdytqvhd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ4cm11ZmNkaGlicW9qeW9kcmR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3MTA5MTAsImV4cCI6MjA2NTI4NjkxMH0.3Q7P10TPXa87_dMH2GpLKngGIQfZoSdn70gnzVilvrQ");function i(){let[e,r]=(0,a.useState)(""),[t,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0);async function p(r){if(r.preventDefault(),o(!0),l(""),!d){l("Kunde inte hitta din e-post. Logga in igen."),o(!1);return}let t=await s({email:d,cooperative:e});if(t.error){l(t.error),o(!1);return}window.location.href="/dashboard"}return((0,a.useEffect)(()=>{!async function(){var e,r;m(!0);let{data:{session:t}}=await c.auth.getSession();u(null!=(r=null==t||null==(e=t.user)?void 0:e.email)?r:null),m(!1)}()},[]),f)?(0,n.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,n.jsx)("div",{className:"w-full max-w-md bg-card rounded-lg shadow-lg p-8 text-center",children:(0,n.jsx)("span",{className:"text-lg",children:"Laddar..."})})}):(0,n.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,n.jsxs)("div",{className:"w-full max-w-md bg-card rounded-lg shadow-lg p-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Komplettera din profil"}),(0,n.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"cooperative",className:"block text-lg font-medium mb-2",children:"Bostadsr\xe4ttsf\xf6reningens namn"}),(0,n.jsx)("input",{id:"cooperative",name:"cooperative",type:"text",required:!0,value:e,onChange:e=>r(e.target.value),className:"text-lg py-3 block w-full rounded-md border border-border bg-background px-3 focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Ex: Brf Solrosen",autoFocus:!0})]}),t&&(0,n.jsx)("div",{className:"text-destructive text-sm",children:t}),(0,n.jsx)("button",{type:"submit",className:"w-full text-lg py-3 bg-primary text-primary-foreground rounded-md",disabled:i,children:i?"Sparar...":"Spara och forts\xe4tt"})]})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[982,441,684,358],()=>r(6252)),_N_E=e.O()}]);