(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{3168:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});let a=(0,t(4982).UU)("https://dmibohhlaqrlfdytqvhd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRtaWJvaGhsYXFybGZkeXRxdmhkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4MjUwMjQsImV4cCI6MjA2NTQwMTAyNH0.xfznRIX4YPrVtbG6QHSBnGpsTtzuD8S5szeyP5A8FSg")},4477:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return a.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return n.findSourceMapURL}});let a=t(3806),n=t(1818),s=t(4979).createServerReference},6252:(e,r,t)=>{Promise.resolve().then(t.bind(t,7675))},7675:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(5155),n=t(2115),s=t(4477);let l=(0,s.createServerReference)("409563c23203d6efc111f601b3f2eaa875a9c45e09",s.callServer,void 0,s.findSourceMapURL,"updateProfile");var c=t(3168);function i(){let[e,r]=(0,n.useState)(""),[t,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),[f,m]=(0,n.useState)(!0);async function p(r){if(r.preventDefault(),o(!0),s(""),!d){s("Kunde inte hitta din e-post. Logga in igen."),o(!1);return}let t=await l({email:d,cooperative:e});if(t.error){s(t.error),o(!1);return}window.location.href="/dashboard"}return((0,n.useEffect)(()=>{!async function(){var e,r;m(!0);let{data:{session:t}}=await c.N.auth.getSession();u(null!=(r=null==t||null==(e=t.user)?void 0:e.email)?r:null),m(!1)}()},[]),f)?(0,a.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,a.jsx)("div",{className:"w-full max-w-md bg-card rounded-lg shadow-lg p-8 text-center",children:(0,a.jsx)("span",{className:"text-lg",children:"Laddar..."})})}):(0,a.jsx)("main",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-card rounded-lg shadow-lg p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Komplettera din profil"}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cooperative",className:"block text-lg font-medium mb-2",children:"Bostadsr\xe4ttsf\xf6reningens namn"}),(0,a.jsx)("input",{id:"cooperative",name:"cooperative",type:"text",required:!0,value:e,onChange:e=>r(e.target.value),className:"text-lg py-3 block w-full rounded-md border border-border bg-background px-3 focus:outline-none focus:ring-2 focus:ring-ring",placeholder:"Ex: Brf Solrosen",autoFocus:!0})]}),t&&(0,a.jsx)("div",{className:"text-destructive text-sm",children:t}),(0,a.jsx)("button",{type:"submit",className:"w-full text-lg py-3 bg-primary text-primary-foreground rounded-md",disabled:i,children:i?"Sparar...":"Spara och forts\xe4tt"})]})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[982,441,684,358],()=>r(6252)),_N_E=e.O()}]);